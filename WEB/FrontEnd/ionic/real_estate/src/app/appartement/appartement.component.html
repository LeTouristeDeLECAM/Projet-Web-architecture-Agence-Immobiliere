 <!-- This is a html file which lists the appartement component  -->
<!-- which include 'appart_Id', 'tile', 'description', 'price','surface', 'nbRooms', 'address' -->
<!-- Each appartement shown comport a <button></button> to edit the appartement , a <button></button> to delete the appartement and a <button></button> to show the appartement details.  -->
<!-- all appartements are displayed in frame using MatCardModule -->


<h1>Property list</h1>

<!-- Search bar to get an Get a ticket by his id -->
<div class="container">
    <div class="row">
        <div class="col-md-4">
            <mat-card>
                <mat-card-header>
                    <mat-card-title>Search a ticket of an appartement</mat-card-title>
                </mat-card-header>
                <mat-card-content>
                    <form [formGroup]="searchForm" (ngSubmit)="getTicketById()"> 
                        <mat-form-field>
                            <input matInput ="ticket_Id" formControlName="ticket_Id" #ticket_Id placeholder="Ticket Id">
                        </mat-form-field>
                        <mat-card-actions>
                            <button mat-raised-button color="primary" type="submit" [disabled]="!searchForm.valid" >Search</button>
                        </mat-card-actions>
                    </form>
                </mat-card-content>
            </mat-card>
        </div>
    </div>

<!-- create a new appartement -->
<div class="container">
    <div class="row">
        <div class="col-md-4">
            <mat-card>
                <mat-card-header>
                    <mat-card-title>Create a new property</mat-card-title>
                </mat-card-header>
                <mat-card-content>
                    <form [formGroup]="postForm" (ngSubmit)="addAppart()"> 
                    <!-- <form> -->
                        <mat-form-field>
                            <input matInput ="title" formControlName="title" name="title"  #title placeholder="Title">
                            <!--  -->
                        </mat-form-field>
                        <mat-form-field>
                            <input matInput ="description" formControlName="description" #description placeholder="Description">
                            <!-- formControlName="description" -->
                        </mat-form-field>
                        <mat-form-field>
                            <!-- <input matInput ="price" formControlName="price" #price placeholder="Price"> -->
                            <!-- <input matInput type="number" formControlName="price" #price placeholder="Price"> -->
                            <!-- input a number for the price -->
                            <input matInput type="number" formControlName="price" #price placeholder="Price">

                            <!-- formControlName="price" -->

                        </mat-form-field>
                        <mat-form-field>
                            <input matInput type="number" formControlName="surface" #surface  placeholder="Surface">
                            <!-- formControlName="surface" -->
                        </mat-form-field>
                        <mat-form-field>
                            <input matInput type="number" formControlName="nbRooms" #nbRooms placeholder="Number of rooms">
                            <!-- formControlName="nbRooms" -->
                        </mat-form-field>
                        <mat-form-field>
                            <input matInput ="address" formControlName="address" #address placeholder="Address">
                            <!-- formControlName="address" -->
                        </mat-form-field>
                        <mat-card-actions>
                            <!-- <button mat-raised-button color="primary" type="submit" (click)="addAppart(title.value, description.value, price.value, surface.value, nbRooms.value, address.value)">Create</button>
                             -->
                            <button mat-raised-button color="primary" type="submit" [disabled]="!postForm.valid" >Create</button>
                            
                            
                             
                        </mat-card-actions>
                    </form>
                </mat-card-content>


                
            </mat-card>
        </div>
    </div>


<!-- list all appartements -->
<div class="container">
    <div class="row">
        <div class="col-md-4" *ngFor="let appart of appartementList">
            <mat-card>
                <mat-card-header>
                    <mat-card-title>{{appart.title}}</mat-card-title>
                    <mat-card-subtitle>{{appart.description}}</mat-card-subtitle>
                </mat-card-header>
                <mat-card-content>
                    <p>Price : {{appart.price}} â‚¬</p>
                    <p>Surface : {{appart.surface}} m^2</p>
                    <p>Number of rooms : {{appart.nbRooms}}</p>
                    <p>Address : {{appart.address}}</p>
                </mat-card-content>
                <mat-card-actions>
                     <button mat-button (click)="editAppart(appart.appart_Id)">Edit</button>
                    <button mat-button (click)="deleteAppart(appart.appart_Id)">Delete</button>
                    <button mat-button (click)="showTicketList(appart.appart_Id)">Tickets</button>
                    <button mat-button (click)="showRenter(appart.appart_Id)">Renter</button>
                </mat-card-actions>
            </mat-card>
        </div>
    </div>








